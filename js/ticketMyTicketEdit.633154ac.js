"use strict";(self["webpackChunkticketing"]=self["webpackChunkticketing"]||[]).push([[889],{4895:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-card",{attrs:{elevation:"2",disabled:e.loadingRecords,loading:e.loadingRecords}},[r("div",{staticClass:"d-flex"},[r("div",[r("v-card-title",[e._v("Edit Ticket")]),r("v-card-subtitle",[r("small",[e._v("Note: All required fields is marked with (*)")])])],1),r("v-spacer"),r("router-link",{staticClass:"mt-5 mr-5",attrs:{to:{name:"MyTicket"}}},[e._v("Back")])],1),r("v-form",{ref:"form"},[r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-autocomplete",{ref:"category",attrs:{rules:[e.rules.required],items:e.categories,"item-text":"name","item-value":"id",label:"Category*",outlined:"",dense:""},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-autocomplete",{ref:"department",attrs:{rules:[e.rules.required],items:e.departments,"item-text":"name","item-value":"id",label:"Department*",outlined:"",dense:""},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{ref:"loanNumber",attrs:{label:"Loan Number",rules:[e.rules.minimum(2),e.rules.maximum(100)],outlined:"",dense:""},model:{value:e.form.loanNumber,callback:function(t){e.$set(e.form,"loanNumber",t)},expression:"form.loanNumber"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{ref:"subject",attrs:{label:"Subject*",rules:[e.rules.required,e.rules.minimum(2),e.rules.maximum(100)],outlined:"",dense:""},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-textarea",{ref:"description",attrs:{label:"Message*",rules:[e.rules.required,e.rules.minimum(2),e.rules.maximum(5e3)],outlined:"",dense:"",rows:"4"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),r("v-divider"),r("v-card-actions",{staticClass:"pa-4"},[r("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary"},on:{click:function(t){e.confirmationDialog=!0}}},[e._v(" Update ")]),r("v-btn",{staticClass:"text-capitalize",attrs:{to:{name:"MyTicket"}}},[e._v(" Cancel ")])],1)],1)],1),e.confirmationDialog?r("confirmation-message",{attrs:{confirmationData:e.confirmationData},on:{closeConfirmationDialog:e.closeConfirmationDialog,onSubmit:e.onSubmit}}):e._e()],1)},i=[],a=r(3659),s=r(629),l=r(5081),n={components:{ConfirmationMessage:l.Z},data:()=>({rules:a.Z,id:null,form:{category:null,department:null,loanNumber:null,subject:null,description:null},confirmationDialog:!1,confirmationData:{title:"Are you sure you want to update?",text:"This action cannot be undone.",closeBtnText:"Cancel",closeBtnColor:"gray",saveBtnText:"Update",saveBtnColor:"primary"}}),created(){this.getRecord()},computed:{...(0,s.rn)("myTicket",["record","categories","departments","loadingRecords"])},methods:{async getRecord(){await this.$store.dispatch("myTicket/editRecord",this.$route.params.id),Object.keys(this.record).length&&(this.id=this.record.id,this.form.category=this.record.category_id,this.form.department=this.record.department_id,this.form.loanNumber=this.record.loan_number,this.form.description=this.record.description,this.form.subject=this.record.subject)},async onSubmit(){this.confirmationDialog=!1,this.$refs.form.validate()&&await this.$store.dispatch("myTicket/updateRecord",[this.id,this.form])},closeConfirmationDialog(){this.confirmationDialog=!1}}},c=n,m=r(1001),d=r(3453),u=r.n(d),f=r(1835),v=r(680),p=r(3237),b=r(7118),h=r(2102),g=r(4228),x=r(1418),C=r(6232),k=r(2877),y=r(9762),V=r(5978),Z=r(4350),D=(0,m.Z)(c,o,i,!1,null,null,null),T=D.exports;u()(D,{VAutocomplete:f.Z,VBtn:v.Z,VCard:p.Z,VCardActions:b.h7,VCardSubtitle:b.Qq,VCardText:b.ZB,VCardTitle:b.EB,VCol:h.Z,VContainer:g.Z,VDivider:x.Z,VForm:C.Z,VRow:k.Z,VSpacer:y.Z,VTextField:V.Z,VTextarea:Z.Z})}}]);
//# sourceMappingURL=ticketMyTicketEdit.633154ac.js.map