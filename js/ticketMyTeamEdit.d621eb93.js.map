{"version":3,"file":"js/ticketMyTeamEdit.d621eb93.js","mappings":"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","sources":["webpack://ticketing/./src/views/ticket/my-team/Edit.vue?079f","webpack://ticketing/src/views/ticket/my-team/Edit.vue","webpack://ticketing/./src/views/ticket/my-team/Edit.vue?5492","webpack://ticketing/./src/views/ticket/my-team/Edit.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('v-card',[(_vm.loadingRecords)?_c('div',[_c('v-card-text',[_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"grey\"}}),_c('br'),_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"grey\"}}),_c('br'),_c('v-progress-linear',{attrs:{\"indeterminate\":\"\",\"color\":\"grey\"}})],1)],1):_c('div',[_c('v-card-subtitle',{staticClass:\"d-flex\"},[_c('v-icon',{staticClass:\"ml-2 mr-5\"},[_vm._v(\"mdi-email-outline\")]),_c('div',[_c('h3',{staticClass:\"font-weight-black\"},[_vm._v(\" Ticket #\"+_vm._s(_vm.id)+\" - \"+_vm._s(_vm.subject)+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.createdAt))+\" (\"+_vm._s(_vm._f(\"setFromNow\")(_vm.createdAt))+\") \")]),_c('v-spacer'),_c('router-link',{attrs:{\"to\":{ name: 'MyTeam' }}},[_vm._v(\"Back\")])],1),_c('v-card-text',{staticClass:\"d-flex\"},[_c('v-img',{staticClass:\"mr-3 rounded\",attrs:{\"src\":require('@/assets/default_selfie.jpg'),\"max-height\":\"40\",\"max-width\":\"40\"}}),_c('div',[_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.client))]),_c('div',[_vm._v(_vm._s(_vm.email))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loanNumber && _vm.project && _vm.unit && _vm.contact),expression:\"loanNumber && project && unit && contact\"}]},[_c('br'),_c('div',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"Loan No.:\")]),_vm._v(\" \"+_vm._s(_vm.loanNumber))]),_c('div',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"Project:\")]),_vm._v(\" \"+_vm._s(_vm.project))]),_c('div',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"Unit/Lot No.:\")]),_vm._v(\" \"+_vm._s(_vm.unit))]),_c('div',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"Contact:\")]),_vm._v(\" \"+_vm._s(_vm.contact))])])])],1),_c('v-card-text',{staticClass:\"d-flex\"},[_c('v-icon',{staticClass:\"ml-3 mr-6\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-email-outline\")]),_c('div',{staticClass:\"pre-formatted\"},[_vm._v(\" \"+_vm._s(_vm.description)+\" \")])],1),_c('v-card-actions',[_c('v-btn',{staticClass:\"text-capitalize ml-15\",attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.ticketLogsDialog = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-file-document-outline\")]),_vm._v(\" View Logs \")],1),(_vm.isShowSolutionBtn)?_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.solutionsDialog = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-book-open-page-variant-outline\")]),_vm._v(\"  Solution \")],1):_vm._e()],1)],1)])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-form',{ref:\"form\"},[_c('v-card',{attrs:{\"disabled\":_vm.loadingForm}},[_c('div',[_c('v-card-subtitle',{staticClass:\"text-uppercase font-weight-bold\"},[_vm._v(\" Properties \"),_c('v-divider')],1),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{ref:\"category\",attrs:{\"rules\":[_vm.rules.required],\"items\":_vm.categories,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Category\",\"hide-details\":\"auto\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{ref:\"ticketStatus\",attrs:{\"rules\":[_vm.rules.required],\"items\":_vm.ticketStatuses,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Status\",\"hide-details\":\"auto\",\"disabled\":\"\"},model:{value:(_vm.form.ticketStatus),callback:function ($$v) {_vm.$set(_vm.form, \"ticketStatus\", $$v)},expression:\"form.ticketStatus\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{ref:\"priorityStatus\",attrs:{\"rules\":[_vm.rules.required],\"items\":_vm.priorityStatuses,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Priority\",\"hide-details\":\"auto\"},on:{\"change\":function($event){return _vm.setPriority(_vm.priorityStatuses)}},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-1\",attrs:{\"small\":\"\",\"color\":_vm.getPriorityColor(item.id)}},[_vm._v(\"mdi-square\")]),_vm._v(\" \"+_vm._s(item.name)+\" \"),(item.id != 5)?_c('span',[_vm._v(\" (\"+_vm._s(item.hours)+\" hrs)\")]):_vm._e()]}},{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-icon',{staticClass:\"mr-1\",attrs:{\"small\":\"\",\"color\":_vm.getPriorityColor(item.id)}},[_vm._v(\"mdi-square\")]),_vm._v(_vm._s(item.name)+\" \"),(item.id != 5)?_c('span',[_vm._v(\" (\"+_vm._s(item.hours)+\" hrs)\")]):_vm._e()]}}]),model:{value:(_vm.form.priorityStatus),callback:function ($$v) {_vm.$set(_vm.form, \"priorityStatus\", $$v)},expression:\"form.priorityStatus\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{ref:\"dueDate\",attrs:{\"label\":\"Due date*\",\"rules\":[_vm.rules.required, _vm.validDueDate],\"type\":\"datetime-local\",\"hide-details\":\"auto\",\"disabled\":_vm.form.priorityStatus != 5},model:{value:(_vm.form.dueDate),callback:function ($$v) {_vm.$set(_vm.form, \"dueDate\", $$v)},expression:\"form.dueDate\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{ref:\"department\",attrs:{\"rules\":[_vm.rules.required],\"items\":_vm.departments,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Department\",\"hide-details\":\"auto\"},on:{\"change\":_vm.setAgents},model:{value:(_vm.form.department),callback:function ($$v) {_vm.$set(_vm.form, \"department\", $$v)},expression:\"form.department\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{ref:\"agent\",attrs:{\"items\":_vm.agents,\"item-text\":\"full_name\",\"item-value\":\"id\",\"label\":\"Agent\",\"hide-details\":\"auto\"},on:{\"change\":_vm.setAgent},model:{value:(_vm.form.agent),callback:function ($$v) {_vm.$set(_vm.form, \"agent\", $$v)},expression:\"form.agent\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){_vm.confirmationDialog = true}}},[_vm._v(\" Update \")])],1)],1)],1)],1)])],1)],1)],1),(_vm.solutionsDialog)?_c('solutions',{on:{\"closeSolutionsDialog\":_vm.closeSolutionsDialog}}):_vm._e(),(_vm.ticketLogsDialog)?_c('ticket-logs',{on:{\"closeTicketLogsDialog\":_vm.closeTicketLogsDialog}}):_vm._e(),(_vm.confirmationDialog)?_c('confirmation-message',{attrs:{\"confirmationData\":_vm.confirmationData},on:{\"closeConfirmationDialog\":_vm.closeConfirmationDialog,\"onSubmit\":_vm.onSubmit}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-row>\r\n      <v-col cols=\"12\" md=\"8\">\r\n        <v-card>\r\n          <div v-if=\"loadingRecords\">\r\n            <v-card-text>\r\n              <v-progress-linear indeterminate color=\"grey\"></v-progress-linear>\r\n              <br />\r\n              <v-progress-linear indeterminate color=\"grey\"></v-progress-linear>\r\n              <br />\r\n              <v-progress-linear indeterminate color=\"grey\"></v-progress-linear>\r\n            </v-card-text>\r\n          </div>\r\n          <div v-else>\r\n            <v-card-subtitle class=\"d-flex\">\r\n              <v-icon class=\"ml-2 mr-5\">mdi-email-outline</v-icon>\r\n              <div>\r\n                <h3 class=\"font-weight-black\">\r\n                  Ticket #{{ id }} - {{ subject }}\r\n                </h3>\r\n                {{ createdAt | dateFormat }} ({{ createdAt | setFromNow }})\r\n              </div>\r\n              <v-spacer></v-spacer>\r\n              <router-link :to=\"{ name: 'MyTeam' }\">Back</router-link>\r\n            </v-card-subtitle>\r\n\r\n            <v-card-text class=\"d-flex\">\r\n              <v-img\r\n                class=\"mr-3 rounded\"\r\n                :src=\"require('@/assets/default_selfie.jpg')\"\r\n                max-height=\"40\"\r\n                max-width=\"40\"\r\n              ></v-img>\r\n              <div>\r\n                <div class=\"font-weight-bold\">{{ client }}</div>\r\n                <div>{{ email }}</div>\r\n                <div v-show=\"loanNumber && project && unit && contact\">\r\n                  <br />\r\n                  <div><span class=\"font-weight-bold\">Loan No.:</span> {{ loanNumber }}</div>\r\n                  <div><span class=\"font-weight-bold\">Project:</span> {{ project }}</div>\r\n                  <div><span class=\"font-weight-bold\">Unit/Lot No.:</span> {{ unit }}</div>\r\n                  <div><span class=\"font-weight-bold\">Contact:</span> {{ contact }}</div>\r\n                </div>\r\n              </div>\r\n            </v-card-text>\r\n\r\n            <v-card-text class=\"d-flex\">\r\n              <v-icon small class=\"ml-3 mr-6\">mdi-email-outline</v-icon>\r\n              <div class=\"pre-formatted\">\r\n                {{ description }}\r\n              </div>\r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n              <v-btn\r\n                class=\"text-capitalize ml-15\"\r\n                small\r\n                @click=\"ticketLogsDialog = true\"\r\n              >\r\n                <v-icon small>mdi-file-document-outline</v-icon>\r\n                View Logs\r\n              </v-btn>\r\n\r\n              <v-btn\r\n                class=\"text-capitalize\"\r\n                small\r\n                @click=\"solutionsDialog = true\"\r\n                v-if=\"isShowSolutionBtn\"\r\n              >\r\n                <v-icon small>mdi-book-open-page-variant-outline</v-icon>\r\n                &nbsp;Solution\r\n              </v-btn>\r\n            </v-card-actions>\r\n          </div>\r\n        </v-card>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"4\">\r\n        <v-form ref=\"form\">\r\n          <v-card :disabled=\"loadingForm\">\r\n            <div>\r\n              <v-card-subtitle class=\"text-uppercase font-weight-bold\">\r\n                Properties <v-divider></v-divider\r\n              ></v-card-subtitle>\r\n              <v-card-text>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-autocomplete\r\n                      ref=\"category\"\r\n                      v-model=\"form.category\"\r\n                      :rules=\"[rules.required]\"\r\n                      :items=\"categories\"\r\n                      item-text=\"name\"\r\n                      item-value=\"id\"\r\n                      label=\"Category\"\r\n                      hide-details=\"auto\"\r\n                    ></v-autocomplete>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-select\r\n                      ref=\"ticketStatus\"\r\n                      v-model=\"form.ticketStatus\"\r\n                      :rules=\"[rules.required]\"\r\n                      :items=\"ticketStatuses\"\r\n                      item-text=\"name\"\r\n                      item-value=\"id\"\r\n                      label=\"Status\"\r\n                      hide-details=\"auto\"\r\n                      disabled\r\n                    ></v-select>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-select\r\n                      ref=\"priorityStatus\"\r\n                      v-model=\"form.priorityStatus\"\r\n                      :rules=\"[rules.required]\"\r\n                      :items=\"priorityStatuses\"\r\n                      item-text=\"name\"\r\n                      item-value=\"id\"\r\n                      label=\"Priority\"\r\n                      hide-details=\"auto\"\r\n                      @change=\"setPriority(priorityStatuses)\"\r\n                    >\r\n                      <template #selection=\"{ item }\">\r\n                        <v-icon\r\n                          small\r\n                          :color=\"getPriorityColor(item.id)\"\r\n                          class=\"mr-1\"\r\n                          >mdi-square</v-icon\r\n                        >\r\n                        {{ item.name }}\r\n                        <span v-if=\"item.id != 5\"\r\n                          >&nbsp;({{ item.hours }} hrs)</span\r\n                        >\r\n                      </template>\r\n                      <template v-slot:item=\"{ item }\"\r\n                        ><v-icon\r\n                          small\r\n                          :color=\"getPriorityColor(item.id)\"\r\n                          class=\"mr-1\"\r\n                          >mdi-square</v-icon\r\n                        >{{ item.name }}\r\n                        <span v-if=\"item.id != 5\"\r\n                          >&nbsp;({{ item.hours }} hrs)</span\r\n                        ></template\r\n                      >\r\n                    </v-select>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-text-field\r\n                      ref=\"dueDate\"\r\n                      v-model=\"form.dueDate\"\r\n                      label=\"Due date*\"\r\n                      :rules=\"[rules.required, validDueDate]\"\r\n                      type=\"datetime-local\"\r\n                      hide-details=\"auto\"\r\n                      :disabled=\"form.priorityStatus != 5\"\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-autocomplete\r\n                      ref=\"department\"\r\n                      v-model=\"form.department\"\r\n                      :rules=\"[rules.required]\"\r\n                      :items=\"departments\"\r\n                      item-text=\"name\"\r\n                      item-value=\"id\"\r\n                      label=\"Department\"\r\n                      hide-details=\"auto\"\r\n                      @change=\"setAgents\"\r\n                    >\r\n                    </v-autocomplete>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-autocomplete\r\n                      ref=\"agent\"\r\n                      v-model=\"form.agent\"\r\n                      :items=\"agents\"\r\n                      item-text=\"full_name\"\r\n                      item-value=\"id\"\r\n                      label=\"Agent\"\r\n                      hide-details=\"auto\"\r\n                      @change=\"setAgent\"\r\n                    ></v-autocomplete>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col cols=\"12\">\r\n                    <v-btn\r\n                      color=\"primary\"\r\n                      block\r\n                      @click=\"confirmationDialog = true\"\r\n                    >\r\n                      Update\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-card-text>\r\n            </div>\r\n          </v-card>\r\n        </v-form>\r\n      </v-col>\r\n    </v-row>\r\n    <solutions\r\n      v-if=\"solutionsDialog\"\r\n      @closeSolutionsDialog=\"closeSolutionsDialog\"\r\n    />\r\n\r\n    <ticket-logs\r\n      v-if=\"ticketLogsDialog\"\r\n      @closeTicketLogsDialog=\"closeTicketLogsDialog\"\r\n    ></ticket-logs>\r\n\r\n    <confirmation-message\r\n      v-if=\"confirmationDialog\"\r\n      :confirmationData=\"confirmationData\"\r\n      @closeConfirmationDialog=\"closeConfirmationDialog\"\r\n      @onSubmit=\"onSubmit\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\nimport { isObjectEmpty } from \"@/helpers/form\";\r\nimport moment from \"moment\";\r\nimport formRules from \"@/helpers/formRules\";\r\nimport Solutions from \"@/components/ticket/Solutions.vue\";\r\nimport TicketLogs from \"@/components/ticket/TicketLogs.vue\";\r\nimport ConfirmationMessage from \"@/components/ConfirmationMessage.vue\";\r\n\r\nexport default {\r\n  components: { TicketLogs, Solutions, ConfirmationMessage },\r\n\r\n  data: () => ({\r\n    rules: formRules,\r\n    subject: null,\r\n    createdAt: null,\r\n    client: null,\r\n    email: null,\r\n    loanNumber: null,\r\n    project: null,\r\n    unit: null,\r\n    contact: null,\r\n    description: null,\r\n    id: null,\r\n    form: {\r\n      category: null,\r\n      ticketStatus: null,\r\n      priorityStatus: null,\r\n      department: null,\r\n      agent: null,\r\n      dueDate: null,\r\n    },\r\n    solutionsDialog: false,\r\n    ticketLogsDialog: false,\r\n    isShowSolutionBtn: false,\r\n    confirmationDialog: false,\r\n    confirmationData: {\r\n      title: \"Are you sure you want to update?\",\r\n      text: \"This action cannot be undone.\",\r\n      closeBtnText: \"Cancel\",\r\n      closeBtnColor: \"gray\",\r\n      saveBtnText: \"Update\",\r\n      saveBtnColor: \"primary\",\r\n    },\r\n    invalidDueDateText: null,\r\n  }),\r\n\r\n  created() {\r\n    this.getRecord();\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"myTeam\", [\r\n      \"loadingRecords\",\r\n      \"loadingForm\",\r\n      \"record\",\r\n      \"categories\",\r\n      \"ticketStatuses\",\r\n      \"priorityStatuses\",\r\n      \"departments\",\r\n      \"agents\",\r\n      \"errors\",\r\n    ]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"myTeam\", [\"getAgents\", \"editRecord\", \"updateRecord\"]),\r\n\r\n    async getRecord() {\r\n      this.$store.commit(\"myTeam/setRecord\", []);\r\n      this.$store.commit(\"myTeam/setAgents\", []);\r\n      await this.editRecord(this.$route.params.id);\r\n\r\n      if (Object.keys(this.record).length) {\r\n        this.id = this.record.id;\r\n        this.subject = this.record.subject;\r\n        this.createdAt = this.record.created_at;\r\n        this.client = this.record.client;\r\n        this.email = this.record.email;\r\n        this.loanNumber = this.record.loan_number;\r\n        this.project = this.record.project;\r\n        this.unit = this.record.unit;\r\n        this.contact = this.record.contact;\r\n        this.description = this.record.description;\r\n\r\n        this.form.category = this.record.category_id;\r\n        this.form.ticketStatus = this.record.ticket_status_id;\r\n        this.form.priorityStatus = this.record.priority_status_id;\r\n        this.form.dueDate = moment(this.record.due_date).format(\r\n          \"YYYY-MM-DDTkk:mm\"\r\n        );\r\n        this.form.department = this.record.department_id;\r\n        this.form.agent = this.record.assigned_to;\r\n\r\n        if (\r\n          this.record.ticket_status_id == 4 ||\r\n          this.record.ticket_status_id == 5\r\n        ) {\r\n          this.isShowSolutionBtn = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    getPriorityColor(data) {\r\n      switch (data) {\r\n        case 1:\r\n          return \"green\";\r\n        case 2:\r\n          return \"blue\";\r\n        case 3:\r\n          return \"orange\";\r\n        case 4:\r\n          return \"red\";\r\n        default:\r\n          return \"grey\";\r\n      }\r\n    },\r\n\r\n    setPriority(value) {\r\n      const priority = value.find(\r\n        (item) => item.id === this.form.priorityStatus\r\n      );\r\n      this.form.dueDate = moment(this.createdAt)\r\n        .add(priority.hours, \"hours\")\r\n        .format(\"YYYY-MM-DDTkk:mm\");\r\n\r\n      if (this.form.priorityStatus == 5) {\r\n        this.form.dueDate = null;\r\n      }\r\n    },\r\n\r\n    setAgents() {\r\n      this.getAgents(this.form.department);\r\n      this.form.agent = null;\r\n      this.form.ticketStatus = 1;\r\n    },\r\n\r\n    setAgent() {\r\n      if (this.form.ticketStatus == 1) {\r\n        this.form.ticketStatus = 2;\r\n      }\r\n\r\n      if (!this.form.agent) {\r\n        this.form.ticketStatus = 1;\r\n      }\r\n    },\r\n\r\n    validDueDate(val) {\r\n      if (val == this.invalidDueDateText) {\r\n        return \"Invalid Date\";\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n\r\n    async onSubmit() {\r\n      if (this.$refs.form.validate()) {\r\n        if (!this.loadingForm) {\r\n          this.confirmationDialog = false;\r\n          await this.updateRecord([this.id, this.form]);\r\n\r\n          if (!isObjectEmpty(this.errors)) {\r\n            let errorFocus = \"\";\r\n\r\n            Object.entries(this.errors).forEach(([key, value]) => {\r\n              if (value) {\r\n                if (!errorFocus) {\r\n                  errorFocus = key;\r\n                }\r\n\r\n                if (key == \"dueDate\") {\r\n                  this.invalidDueDateText = this.form.dueDate;\r\n                }\r\n\r\n                this.$refs.form.validate();\r\n                this.$refs[errorFocus].focus();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    closeSolutionsDialog() {\r\n      this.solutionsDialog = false;\r\n    },\r\n\r\n    closeTicketLogsDialog() {\r\n      this.ticketLogsDialog = false;\r\n    },\r\n\r\n    closeConfirmationDialog() {\r\n      this.confirmationDialog = false;\r\n    },\r\n  },\r\n\r\n  filters: {\r\n    dateFormat(date) {\r\n      return moment(date).format(\"MMM D, YYYY h:mm A\");\r\n    },\r\n\r\n    setFromNow(date) {\r\n      return moment(date).fromNow();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.pre-formatted {\r\n  white-space: pre-line;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=32d40278&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=32d40278&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32d40278\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCol,VContainer,VDivider,VForm,VIcon,VImg,VProgressLinear,VRow,VSelect,VSpacer,VTextField})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","id","subject","_f","createdAt","name","client","email","directives","rawName","value","loanNumber","project","unit","contact","expression","description","on","$event","ticketLogsDialog","solutionsDialog","_e","ref","loadingForm","rules","required","categories","model","form","callback","$$v","$set","ticketStatuses","priorityStatuses","setPriority","scopedSlots","_u","key","fn","item","getPriorityColor","hours","validDueDate","priorityStatus","departments","setAgents","agents","setAgent","confirmationDialog","closeSolutionsDialog","closeTicketLogsDialog","confirmationData","closeConfirmationDialog","onSubmit","staticRenderFns","components","TicketLogs","Solutions","ConfirmationMessage","data","category","ticketStatus","department","agent","dueDate","isShowSolutionBtn","title","text","closeBtnText","closeBtnColor","saveBtnText","saveBtnColor","invalidDueDateText","created","computed","methods","add","priority","format","Object","errorFocus","filters","dateFormat","setFromNow","component","VAutocomplete"],"sourceRoot":""}