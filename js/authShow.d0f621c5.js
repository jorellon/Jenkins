"use strict";(self["webpackChunkticketing"]=self["webpackChunkticketing"]||[]).push([[159],{1418:function(e,s,a){a.d(s,{Z:function(){return r}});var t=a(8085),r=t.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let s;return this.$attrs.role&&"separator"!==this.$attrs.role||(s=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":s,...this.$attrs},on:this.$listeners})}})},2157:function(e,s,a){a.d(s,{n:function(){return t}});const t=e=>{for(var s in e)return!1;return!0}},8879:function(e,s,a){a.r(s),a.d(s,{default:function(){return y}});var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-card",[a("div",{staticClass:"d-flex"},[a("div",[a("v-card-title",[e._v("Edit Profile")]),a("v-card-subtitle",[a("small",[e._v("Note: All required fields is marked with (*)")])])],1)]),a("v-form",{ref:"form",attrs:{disabled:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{ref:"first_name",attrs:{label:"First name*",outlined:"",dense:""},model:{value:e.form.first_name,callback:function(s){e.$set(e.form,"first_name",s)},expression:"form.first_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{ref:"middle_name",attrs:{label:"Middle name",outlined:"",dense:""},model:{value:e.form.middle_name,callback:function(s){e.$set(e.form,"middle_name",s)},expression:"form.middle_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{ref:"last_name",attrs:{label:"Last name*",outlined:"",dense:""},model:{value:e.form.last_name,callback:function(s){e.$set(e.form,"last_name",s)},expression:"form.last_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{ref:"email",attrs:{label:"Email*",outlined:"",dense:""},model:{value:e.form.email,callback:function(s){e.$set(e.form,"email",s)},expression:"form.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{ref:"employee_number",attrs:{label:"Employee number*",outlined:"",dense:""},model:{value:e.form.employee_number,callback:function(s){e.$set(e.form,"employee_number",s)},expression:"form.employee_number"}})],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"pa-4"},[a("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary",disabled:""}},[e._v(" Update ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-card",{attrs:{disabled:""}},[a("v-card-title",[e._v("Change Password")]),a("v-card-subtitle",[a("span",[e._v("Â ")])]),a("v-form",{ref:"changePassForm",attrs:{disabled:e.loading}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"old_password",attrs:{label:"Old Password*",rules:[e.rules.required,e.validPassword],"append-icon":e.showOldPassword?"mdi-eye":"mdi-eye-off",type:e.showOldPassword?"text":"password",outlined:"",dense:""},on:{"click:append":function(s){e.showOldPassword=!e.showOldPassword}},model:{value:e.changePassForm.old_password,callback:function(s){e.$set(e.changePassForm,"old_password",s)},expression:"changePassForm.old_password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{ref:"new_password",attrs:{label:"New Password*",rules:[e.rules.required,e.rules.minimum(6),e.rules.maximum(100),e.rules.strongPassword,e.validNewPassword],"append-icon":e.showNewPassword?"mdi-eye":"mdi-eye-off",type:e.showNewPassword?"text":"password",outlined:"",dense:""},on:{"click:append":function(s){e.showNewPassword=!e.showNewPassword}},model:{value:e.changePassForm.new_password,callback:function(s){e.$set(e.changePassForm,"new_password",s)},expression:"changePassForm.new_password"}})],1)],1)],1),a("v-divider"),a("v-card-actions",{staticClass:"pa-4"},[a("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary",block:"",disabled:e.loading},on:{click:function(s){e.confirmationDialog=!0}}},[e._v(" Update ")])],1)],1)],1)],1)],1),e.confirmationDialog?a("confirmation-message",{attrs:{confirmationData:e.confirmationData},on:{closeConfirmationDialog:e.closeConfirmationDialog,onSubmit:e.onSubmit}}):e._e()],1)},r=[],o=a(3659),i=a(629),l=a(5081),n=a(2157),d={components:{ConfirmationMessage:l.Z},data:()=>({rules:o.Z,form:{first_name:null,middle_name:null,last_name:null,email:null,employee_number:null},changePassForm:{old_password:null,new_password:null},confirmationDialog:!1,confirmationData:{title:"Are you sure you want to update?",text:"This action cannot be undone.",closeBtnText:"Cancel",closeBtnColor:"gray",saveBtnText:"Update",saveBtnColor:"primary"},invalidPasswordText:null,invalidNewPasswordText:null,showOldPassword:!1,showNewPassword:!1}),created(){this.getRecord()},computed:{...(0,i.Se)("auth",["user","loading","errors"])},methods:{getRecord(){this.form.first_name=this.user.first_name,this.form.middle_name=this.user.middle_name,this.form.last_name=this.user.last_name,this.form.email=this.user.email,this.form.employee_number=this.user.employee_number},validPassword(e){return e!=this.invalidPasswordText||"Incorrect password."},validNewPassword(e){return e!=this.invalidNewPasswordText||"New password must be different."},async onSubmit(){if(this.confirmationDialog=!1,this.$refs.changePassForm.validate())if(await this.$store.dispatch("auth/changePassword",this.changePassForm),(0,n.n)(this.errors))this.$refs.changePassForm.reset();else{let e="";Object.entries(this.errors).forEach((([s,a])=>{a&&(e||(e=s),"old_password"==s&&(this.invalidPasswordText=this.changePassForm.old_password),"new_password"==s&&(this.invalidNewPasswordText=this.changePassForm.new_password),this.$refs.changePassForm.validate(),this.$refs[e].focus())}))}},closeConfirmationDialog(){this.confirmationDialog=!1}}},m=d,c=a(1001),u=a(3453),f=a.n(u),v=a(680),w=a(3237),h=a(7118),p=a(2102),_=a(4228),b=a(1418),P=a(6232),g=a(2877),x=a(5978),C=(0,c.Z)(m,t,r,!1,null,null,null),y=C.exports;f()(C,{VBtn:v.Z,VCard:w.Z,VCardActions:h.h7,VCardSubtitle:h.Qq,VCardText:h.ZB,VCardTitle:h.EB,VCol:p.Z,VContainer:_.Z,VDivider:b.Z,VForm:P.Z,VRow:g.Z,VTextField:x.Z})}}]);
//# sourceMappingURL=authShow.d0f621c5.js.map